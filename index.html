<script>
$(document).ready(function(){
    // Visitor's IP address to allow access
    var allowedIP = "143.44.169.145";

    // Function to get visitor's IP address
    function getVisitorIP(callback) {
        $.getJSON("https://api.ipify.org?format=json", function(data) {
            var ip = data.ip;
            callback(ip);
        });
    }

    // Check visitor's IP address on document ready
    getVisitorIP(function(ip) {
        if (ip === allowedIP) {
            // Show the initial text when the document is ready
            $("#text").fadeIn(1000); // Initial fade-in

            // Click event to activate the sequence
            $(document).click(function() {
                // Change text to "checkin" after 1 second
                setTimeout(function() {
                    $("#text").fadeOut(function() {
                        $("#text2").text("chec data").css({top: '-50%', display: 'block', opacity: 1}).animate({top: '50%', opacity: 1}, 1000, function() {
                            $(".loading").fadeIn(); // Show loading dots
                            animateDots(); // Start dot animation

                            // Make "checkin" and dots visible for 3 seconds
                            setTimeout(function() {
                                // Start black screen animation just after the checkin text fades out
                                $("#blackScreen").fadeIn(0).animate({top: '0'}, 1000); // Move upwards
                                $(".loading").fadeOut(300); // Fade out loading dots
                                $("#text2").fadeOut(300); // Fade out checkin text
                            }, 2900); // Trigger after 2.9 seconds
                        });
                    });
                }, 1000); // Wait for 1 second before starting the sequence
            });

        } else {
            // If IP does not match, close the tab (or display an error message)
            window.close(); // Close the tab
            // Alternatively, you can display an error message:
            // alert("Access denied. Your IP address is not authorized.");
        }
    });

    function animateDots() {
        let dots = $(".dot");
        let index = 0;

        function showNextDot() {
            dots.css("opacity", "0"); // Hide all dots
            dots.eq(index).css("opacity", "1"); // Show current dot
            index = (index + 1) % dots.length; // Move to the next dot
            setTimeout(showNextDot, 500); // Repeat every 500ms
        }

        showNextDot(); // Start the animation
    }
});
</script>
